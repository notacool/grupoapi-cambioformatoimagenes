# Configuraci√≥n del Conversor de Archivos TIFF
# Este archivo permite personalizar el comportamiento de los conversores

# Configuraci√≥n de formatos de salida
formats:
  # Conversor JPG 400 DPI (alta resoluci√≥n)
  JPGHIGH:
    enabled: true                    # Habilitar conversi√≥n a JPG 400 DPI
    quality: 95                      # Calidad de compresi√≥n (1-100)
    optimize: true                   # Optimizar archivo
    progressive: false               # JPEG progresivo
    dpi: 400                        # Resoluci√≥n en DPI
  
  # Conversor JPG 200 DPI (media resoluci√≥n)
  JPGLOW:
    enabled: true                    # Habilitar conversi√≥n a JPG 200 DPI
    quality: 90                      # Calidad de compresi√≥n (1-100)
    optimize: true                   # Optimizar archivo
    progressive: false               # JPEG progresivo
    dpi: 200                        # Resoluci√≥n en DPI
  
  # Conversor PDF con EasyOCR (alternativa local)
  PDF:
    enabled: true                     # ‚úÖ HABILITAR EasyOCR
    resolution: 300                  # Resoluci√≥n en DPI
    page_size: "A4"                 # Tama√±o de p√°gina
    fit_to_page: true                # Ajustar imagen a la p√°gina
    ocr_language: ["es", "en"]      # Lista de idiomas para OCR
    ocr_confidence: 0.2             # Confianza m√≠nima para OCR (0.0-1.0)
    create_searchable_pdf: true      # Crear PDF con texto buscable
    use_gpu: true                    # Usar GPU si est√° disponible
    
    # üîß CONFIGURACI√ìN DE COMPRESI√ìN DE PDF
    compression:
      enabled: true                   # Habilitar compresi√≥n de PDF
      compression_level: "ebook"      # Nivel: screen, ebook, printer, prepress
      target_dpi: 200                 # DPI objetivo para im√°genes (reducir de 400)
      image_quality: 85               # Calidad JPEG (0-100, reducir de 95)
      remove_metadata: true           # Eliminar metadatos innecesarios
      fallback_on_error: true         # Usar PDF original si falla compresi√≥n

# Configuraci√≥n de procesamiento
processing:
  max_workers: 1                     # N√∫mero m√°ximo de workers paralelos
  batch_size: 2                     # Tama√±o del lote de procesamiento
  overwrite_existing: false          # Sobrescribir archivos existentes

# Configuraci√≥n de salida
output:
  create_subdirectories: true        # Crear subdirectorios por formato
  naming_pattern: "{original_name}"  #"{original_name}_{format}_{dpi}"  # Patr√≥n de nombres con DPI

# Configuraci√≥n de metadatos MET
METS:
  enabled: true                      # Habilitar generaci√≥n de archivos MET
  include_image_metadata: true       # Incluir metadatos t√©cnicos de imagen
  include_file_metadata: true        # Incluir metadatos del archivo
  include_processing_info: true      # Incluir informaci√≥n de procesamiento
  metadata_standard: 'MET'           # Est√°ndar METS
  organization: 'Grupo API'          # Nombre de la organizaci√≥n
  creator: 'Sistema Automatizado'    # Sistema creador
  generate_all_met: false            # true: archivos con timestamp, false: un archivo por formato

# Configuraci√≥n de postconversores
postconverters:
  # Postconversor para consolidar PDFs
  consolidated_pdf:
    enabled: true                    # Habilitar consolidaci√≥n de PDFs
    max_size_mb: 50                 # üìè Aumentar a 50MB para evitar divisi√≥n excesiva
    output_folder: "PDF"             # Carpeta de salida (misma que PDF individual)
    use_ocr: true                   # Aplicar OCR a las im√°genes
    sort_by_name: true              # Ordenar archivos por nombre alfab√©tico
    
    # üîß CONFIGURACI√ìN DE COMPRESI√ìN DE PDF CONSOLIDADO
    compression:
      enabled: true                   # Habilitar compresi√≥n de PDF consolidado
      compression_level: "ebook"      # Nivel: screen, ebook, printer, prepress
      target_dpi: 200                 # DPI objetivo para im√°genes
      image_quality: 85               # Calidad JPEG (0-100)
      remove_metadata: true           # Eliminar metadatos innecesarios
      fallback_on_error: true         # Usar PDF original si falla compresi√≥n
  
  # Postconversor MET por formato
  met_format:
    enabled: true                    # Habilitar generaci√≥n de archivos MET por formato
    include_image_metadata: true     # Incluir metadatos t√©cnicos de imagen
    include_file_metadata: true      # Incluir metadatos del archivo
    include_processing_info: true    # Incluir informaci√≥n de procesamiento
    metadata_standard: 'MET'         # Est√°ndar METS
    organization: 'Grupo API'        # Nombre de la organizaci√≥n
    creator: 'Sistema Automatizado'  # Sistema creador

# Notas:
# - Los valores se pueden modificar seg√∫n las necesidades
# - Para agregar nuevos formatos, crear nuevas secciones siguiendo el patr√≥n
# - Los conversores se cargan din√°micamente desde el c√≥digo
# - Este archivo se puede especificar con --config en la l√≠nea de comandos
# - JPGHIGH y JPGLOW crean versiones de alta y media resoluci√≥n respectivamente
# - PDF est√° habilitado como √∫nica opci√≥n de OCR
# - Tesseract y Azure OCR est√°n deshabilitados
# - El postconversor consolidated_pdf se ejecuta ANTES que met_format
